## DOM에서 이벤트 처리하기

웹 문서에서 이벤트가 발생하면 이벤트 처리기(event handler)를 연결해야 한다.

HTML 태그에서 이벤트 처리기를 연결할 수도 있지만 태그와 스크립트 소스가 섞여 있어서 복잡한 프로그램에는 적합하지 않다.

이럴 때 DOM에서 이벤트 처리기를 연결하면 HTML 태그와 스크립트 소스를 분리할 수 있다.

***
### DOM 요소에 함수 직접 연결하기

<br>

이벤트 처리기 함수가 간단하다면 DOM 요소에 직접 연결할 수 있다.

예를 들어 다음 예제는 img 요소를 가져와 변수에 저장한 후 onclick을 사용해 변수에 이벤트 처리기(함수)를 직접 연결한다.

이미지를 클릭하면 알림 창이 나타나지만 이미지 외의 다른 곳을 클릭하면 실행되지 않는다.

[이미지를 클릭하면 알림 창 표시하기](./Doit_JavaScript_day39-1.html)

***
### 함수 이름을 사용해 연결하기

<br>

이벤트가 발생했을 때 실행할 함수를 따로 정의해 놓았다면 함수 이름을 사용해 연결할 수 있다.

이 경우에는 함수 이름 다음에 괄호()를 추가하지 않는다.

다음 예제는 이미지를 cup 변수로 저장한 후 click 이벤트가 발생했을 때 changePic() 함수를 실행한다.

[이미지를 클릭하면 함수 실행하기](./Doit_JavaScript_day39-2.html)

***
### DOM의 event 객체 알아보기

<br>

DOM에는 이벤트 정보를 저장하는 event 객체가 있다.

이 객체에는 웹 문서에서 발생한 이벤트 요소가 무엇인지, 어떤 이벤트가 발생했는지 등의 정보가 들어 있다.

다음은 이미지에 발생한 이벤트의 유형과 위치를 알림 창으로 보여주는 예제이다.

여기에서 img 요소를 클릭하면 그 위치를 확인하기 위해 event 객체를 함수의 인수로 사용한다.

[이미지에서 클릭한 위치 알아내기](./Doit_JavaScript_day39-3.html)

<br>

다음 표는 event 객체의 주요 프로퍼티와 메서드를 정리한 것이다.

|구분||설명|
|-|-|-|
|프로퍼티|altkey|이벤트가 발생할 때 Alt키를 눌렀는지 여부를 boolean값으로 반환한다.|
||button|마우스에서 누른 버튼의 키값을 반환한다.|
||charCode|keypress 이벤트가 발생할 때 어떤 키를 눌렀는지 유니코드값으로 반환한다.|
||clientX|이벤트가 발생한 가로 위치를 반환한다.|
||clientY|이벤트가 발생한 세로 위치를 반환한다.|
||ctrlKey|이벤트가 발생했을 때 Ctrl를 눌렀는지 여부를 boolean값으로 반환한다.|
||pageX|현재 문서 기준으로 이벤트가 발생한 가로 위치를 반환한다.|
||pageY|현재 문서 기준으로 이벤트가 발생한 세로 위치를 반환한다.|
||screenX|현재 화면 기준으로 이벤트가 발생한 가로 위치를 반환한다.|
||screenY|현재 화면 기준으로 이벤트가 발생한 세로 위치를 반환한다.|
||shiftKey|이벤트가 발생할 때 Shift키를 눌렀는지 여부를 boolean값으로 반환한다.|
||target|이벤트가 최초로 발생한 대상을 반환한다.|
||timeStamp|이벤트가 발생한 시간을 반환한다.|
||type|발생한 이벤트 이름을 반환한다.|
||which|키보드와 관련된 이벤트가 발생할 때 키의 유니코드값을 반환한다.|
|메서드|preventDefault()|이벤트를 취소할 수 있는 경우에 취소한다.|

event 객체의 전체 프로퍼티와 메서드는 developer.mozilla.org/ko/docs/Web/API/Event 를 참고하자.

<br>

event 객체에는 이벤트 정보만 들어있다.

만약 이벤트가 발생한 대상에 접근하려면 이벤트 처리기에서 예약어 this를 사용해야 한다.

다음 예제처럼 클릭한 이미지의 파일 경로를 알고 싶다면 this.src를 사용한다.

[this 예약어 사용하기](./Doit_JavaScript_day39-4.html)

결과 화면에서 파일 경로가 http://127.0.0.1로 보이는 것은 비주얼 스튜디오 코드의 Live Server 확장을 이용했지 때문이다.

각자가 사용하는 화면과 다를 수 있다.


