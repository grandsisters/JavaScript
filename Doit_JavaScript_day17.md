## var를 사용한 변수의 특징

***
### var와 호이스팅

<br>

자바스크립트에서 변수를 사용할 때 조심해야 할 개념이 있다. 바로 호이스팅(hoisting)이다.

호이스팅이란 '끌어올린다'를 뜻한다.

상황에 따라 변수의 선언과 할당을 분리해서 선언 부분을 스코프의 가장 위쪽으로 끌어올리는 것이다.

끌어올린다고 해서 실제로 소스 코드를 끌어올리는 것은 아니고 소스를 그런 식으로 해석한다는 의미이다.

다음 예제는 웹 브라우저의 콘솔 창에서 확인해 보면, x의 변숫값은 10이지만 y의 변수값은 아직 할당되지 않은 자료형인 undefined로 나타난다.

y의 변숫값도 20으로 나올 것이라 예상했는데 다른 결과가 나왔다.

undefined는 변수가 선언되었지만 아직 값이 할당되지 않은 상태일 때의 자료형이다.

[변수와 호이스팅](./Doit_JavaScript_day17-1.html)

이런 결과가 나타난 것은 바로 변수 호이스팅 때문이다.

자바스크립트 해석기(interpreter)는 함수 소스를 훑어보면서 var를 사용한 변수는 따로 기억해 둔다.

즉, 변수를 실행하기 전이지만 '이런 변수가 있구나' 하고 기억해 두기 때문에 마치 선언한 것과 같은 효과가 있는 것이다.

이것이 바로 호이스팅이다.

그래서 예제를 자바스크립트 해석기가 인식하는 코드로 다시 나타내면 다음과 같다.

    1)실제 코드

        var x = 10;

        function displayNumber() {



            console.log('x is ' + x);
            console.log('y is ' + y);
            var y = 20;
        }
        
        displayNumber();



    2) 자바스크립2트 해석기가 인식하는 코드

        var x = 10;

        function displayNumber() {

            var y;

            console.log('x is ' + x);
            console.log('y is ' + y);
            var y = 20;
        }
        
        displayNumber();



실제 코드가 위와 같이 바뀌는 것이 아니라 자바스크립트 해석기가 이해하는 방식이 이렇다는 것을 나타낸다.

따라서 실제 코드에는 변화가 없다.

간혹 호이스팅처럼 var 예약어를 사용한 변수는 선언하기 전에 사용하면 프로그램 오류를 발생시킬 수 있다.

***
### 변수의 재선언과 재할당

<br>

var를 사용한 변수는 호이스팅 외에도 재선언과 재할당을 할 수 있다.

재선언과 재할당이 무엇인지 예를 들어 살펴보자

다음 예제에서 변수 sum에 처음에는 변숫값 30을 저장했지만 코드를 작성하면서 다른 값을 할당하면 아예 변수를 새로 선언한다.

어떤 결과가 나올지 웹 브라우저 콘솔 창에서 직접 확인해 보자

[var 예약어를 사용한 변수의 재할당과 재선언](./Doit_JavaScript_day17-2.html)

addNumber() 함수에서 반환된 값을 sum에 저장했다는 사실을 잊어버리고 새로운 sum 변수를 서언해도 오류가 생기지 않는다.

이럴 경우 예상치 못한 결과가 만들어질 수 있으므로 조심해서 사용해야 한다.