<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>this - 생성자의 호출</title>
</head>
<body>
    <script>
        // 아래 코드는 함수를 호출했을 때와 new를 이용해서 생성자를 호출했을 때의 차이를 보여준다.

        var funcThis = null; 
        
        function Func(){
            funcThis = this;
        }
        var o1 = Func();
        if(funcThis === window){
            document.write('window <br />');
        }
        
        var o2 = new Func();
        if(funcThis === o2){
            document.write('o2 <br />');
        }

        /*
        생성자는 빈 객체를 만든다. 그리고 이 객체내에서 this는 만들어진 객체를 가르킨다. 
        이것은 매우 중요한 사실이다. 생성자가 실행되기 전까지는 객체는 변수에도 할당될 수 없기 때문에 
        this가 아니면 객체에 대한 어떠한 작업을 할 수 없기 때문이다. 
        */
        
        function Func(){
        document.write(o);
        }

        var o = new Func();
    </script>
</body>
</html>